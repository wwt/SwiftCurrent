<!doctype html>
<html lang="en">
 <head> 
  <title>Using Storyboards  Reference</title> 
  <link rel="stylesheet" type="text/css" href="css/jazzy.css"> 
  <link rel="stylesheet" type="text/css" href="css/highlight.css"> 
  <meta charset="utf-8"> 
  <script src="js/jquery.min.js" defer></script> 
  <script src="js/jazzy.js" defer></script> 
  <script src="js/lunr.min.js" defer></script> 
  <script src="js/typeahead.jquery.js" defer></script> 
  <script src="js/jazzy.search.js" defer></script> 
 </head> 
 <body> 
  <a title="Using Storyboards  Reference"></a> 
  <header class="header"> 
   <p class="header-col header-col--primary"> <a class="header-link" href="index.html"> SwiftCurrent 5.1.12 Docs </a> (95% documented) </p> 
   <div class="header-col--secondary"> 
    <form role="search" action="search.json"> 
     <input type="text" placeholder="Search documentation" data-typeahead> 
    </form> 
   </div> 
   <p class="header-col header-col--secondary"> <a class="header-link" href="https://github.com/wwt/SwiftCurrent"> <img class="header-icon" src="img/gh.png" alt="GitHub"> View on GitHub </a> </p> 
  </header> 
  <p class="breadcrumbs"> <a class="breadcrumb" href="index.html">SwiftCurrent Reference</a> <img class="carat" src="img/carat.png" alt=""> Using Storyboards Reference </p> 
  <div class="content-wrapper"> 
   <nav class="navigation"> 
    <ul class="nav-groups"> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="./index.html">Overview</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="why-this-library.html">Why This Library</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="installation.html">Installation</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Creating%20Workflows.html">Creating Workflows</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/FlowRepresentable.html">FlowRepresentable</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/Workflow.html">Workflow</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/PassthroughFlowRepresentable.html">PassthroughFlowRepresentable</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="How%20to%20use%20SwiftCurrent%20with%20SwiftUI.html">How to use SwiftCurrent with SwiftUI</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="getting-started-with-swiftui.html">Getting Started with SwiftUI</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="working-with-navigationview.html">Working with NavigationView</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="working-with-modals.html">Working with Modals</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Creating%20Workflows%20in%20SwiftUI.html">Creating Workflows in SwiftUI</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/WorkflowView.html">WorkflowView</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/WorkflowItem.html">WorkflowItem</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Enums/WorkflowBuilder.html">WorkflowBuilder</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="How%20to%20use%20SwiftCurrent%20with%20UIKit.html">How to use SwiftCurrent with UIKit</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="using-programmatic-views.html">Using Programmatic Views</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="using-storyboards.html">Using Storyboards</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Creating%20Workflows%20in%20UIKit.html">Creating Workflows in UIKit</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Extensions/UIViewController.html">UIViewController</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/UIWorkflowItem.html">UIWorkflowItem</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/HostedWorkflowItem.html">HostedWorkflowItem</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Server%20Driven%20Workflows.html">Server Driven Workflows</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="generated-type-registry.html">Generated Type Registry</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Extensions/JSONDecoder.html">JSONDecoder</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/DecodeWorkflow.html">DecodeWorkflow</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/FlowRepresentableAggregator.html">FlowRepresentableAggregator</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/WorkflowDecodable.html">WorkflowDecodable</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Controlling%20Presentation.html">Controlling Presentation</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/LaunchStyle.html">LaunchStyle</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/LaunchStyle/PresentationType.html">– PresentationType</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/LaunchStyle/SwiftUI.html">– SwiftUI</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/FlowPersistence.html">FlowPersistence</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/FlowPersistence/SwiftUI.html">– SwiftUI</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/UIKitPresenter.html">UIKitPresenter</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Type%20Erasure.html">Type Erasure</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/AnyWorkflow.html">AnyWorkflow</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/AnyWorkflow/DecodingError.html">– DecodingError</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/AnyWorkflow/JSONSchemaVersion.html">– JSONSchemaVersion</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/AnyWorkflow/PassedArgs.html">– PassedArgs</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/AnyFlowRepresentable.html">AnyFlowRepresentable</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Underlying%20Types.html">Underlying Types</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/FlowRepresentableMetadata.html">FlowRepresentableMetadata</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/LinkedList.html">LinkedList</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Classes/LinkedList/Node.html">– Node</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Protocols/OrchestrationResponder.html">OrchestrationResponder</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/ViewControllerWrapper.html">ViewControllerWrapper</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Enums/WorkflowError.html">WorkflowError</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Other%20Extensions.html">Other Extensions</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Extensions/Never.html">Never</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Extensions/WorkflowViewModel.html">WorkflowViewModel</a> </li> 
      </ul> </li> 
     <li class="nav-group-name"> <a class="nav-group-name-link" href="Other%20Structs.html">Other Structures</a> 
      <ul class="nav-group-tasks"> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/AnyWorkflowItem.html">AnyWorkflowItem</a> </li> 
       <li class="nav-group-task"> <a class="nav-group-task-link" href="Structs/WorkflowGroup.html">WorkflowGroup</a> </li> 
      </ul> </li> 
    </ul> 
   </nav> 
   <article class="main-content"> 
    <section class="section"> 
     <div class="section-content top-matter"> 
      <h2 id="overview" class="heading">Overview</h2> 
      <p>This guide will walk you through getting a <code><a href="Classes/Workflow.html">Workflow</a></code> up and running in a new iOS project. If you would like to see an existing project, clone the repo and view the <code>UIKitExample</code> scheme in <code>SwiftCurrent.xcworkspace</code>.</p> 
      <p>The app in this guide is going to be very simple. It consists of a screen that will launch the <code><a href="Classes/Workflow.html">Workflow</a></code>, a screen to enter an email address, and an optional screen for when the user enters an email with <code>@wwt.com</code> in it. Here is a preview of what the app will look like:</p> 
      <p><img src="https://user-images.githubusercontent.com/79471462/131556008-943f5e00-b7d0-4782-974d-1e914c4179fc.gif" alt="Preview image of app"></p> 
      <h2 id="adding-the-dependency" class="heading">Adding the Dependency</h2> 
      <p>For instructions on SPM and CocoaPods, <a href="installation.html#swift-package-manager">check out our installation page.</a>.</p> 
      <h2 id="important-note" class="heading">IMPORTANT NOTE</h2> 
      <p>SwiftCurrent is so convenient that you may miss the couple of lines that are calls to the library. To make it easier, we’ve marked our code snippets with <code>// SwiftCurrent</code> to highlight items that are coming from the library.</p> 
      <h2 id="create-the-convenience-protocols-for-storyboard-loading" class="heading">Create the Convenience Protocols for Storyboard Loading</h2> 
      <p>It is best practice to use the <code><a href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a></code> protocol to connect your <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> to your storyboard. Additionally, to limit the amount of duplicate code, you can make a convenience protocol for each storyboard.</p> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent_UIKit</span>

<span class="kd">extension</span> <span class="kt">StoryboardLoadable</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
    <span class="c1">// Assumes that your storyboardId will be the same as your UIViewController class name</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">storyboardId</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span> <span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="k">Self</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">protocol</span> <span class="kt">MainStoryboardLoadable</span><span class="p">:</span> <span class="kt">StoryboardLoadable</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">extension</span> <span class="kt">MainStoryboardLoadable</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">storyboard</span><span class="p">:</span> <span class="kt">UIStoryboard</span> <span class="p">{</span> <span class="kt">UIStoryboard</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Main"</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="k">Self</span><span class="o">.</span><span class="k">self</span><span class="p">))</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre> 
      <blockquote> 
       <p><strong>NOTE:</strong> <code><a href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a></code> is only available in iOS 13.0 and later.</p> 
      </blockquote> 
      <h2 id="create-your-view-controllers" class="heading">Create Your View Controllers</h2> 
      <p>Create two view controllers that both conform to <code>MainStoryboardLoadable</code> and inherit from <code><a href="Classes/UIWorkflowItem.html">UIWorkflowItem</a></code>.</p> 
      <p>First view controller:</p> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent_UIKit</span>

<span class="kd">class</span> <span class="kt">FirstViewController</span><span class="p">:</span> <span class="kt">UIWorkflowItem</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">MainStoryboardLoadable</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>

    <span class="kd">@IBOutlet</span> <span class="kd">private</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">emailTextField</span><span class="p">:</span> <span class="kt">UITextField</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="kd">private</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">welcomeLabel</span><span class="p">:</span> <span class="kt">UILabel</span><span class="o">!</span> <span class="p">{</span>
        <span class="nf">willSet</span><span class="p">(</span><span class="n">this</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">this</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"Welcome </span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">!"</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">,</span> <span class="n">with</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">coder</span><span class="p">:</span> <span class="n">coder</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span> <span class="kc">nil</span> <span class="p">}</span>

    <span class="kd">@IBAction</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">savePressed</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">proceedInWorkflow</span><span class="p">(</span><span class="n">emailTextField</span><span class="o">.</span><span class="n">text</span> <span class="p">??</span> <span class="s">""</span><span class="p">)</span> <span class="c1">// SwiftCurrent</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre> 
      <p>Second view controller:</p> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent_UIKit</span>

<span class="c1">// This screen shows an employee only screen</span>
<span class="kd">class</span> <span class="kt">SecondViewController</span><span class="p">:</span> <span class="kt">UIWorkflowItem</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">MainStoryboardLoadable</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">email</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">,</span> <span class="n">with</span> <span class="nv">email</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
        <span class="k">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">email</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">coder</span><span class="p">:</span> <span class="n">coder</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span> <span class="kc">nil</span> <span class="p">}</span>

    <span class="kd">@IBAction</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">finishPressed</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">proceedInWorkflow</span><span class="p">(</span><span class="n">email</span><span class="p">)</span> <span class="c1">// SwiftCurrent</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">shouldLoad</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
        <span class="k">return</span> <span class="n">email</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="s">"@wwt.com"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre> 
      <h3 id="what-is-going-on-with-these-view-controllers" class="heading">What Is Going on With These View Controllers?</h3> 
      <h4 id="strong-where-are-the-code-flowrepresentable-code-s-you-mentioned-earlier-strong" class="heading"><strong>Where are the <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code>s you mentioned earlier?</strong></h4> 
      <details>
        You could declare these view controllers with 
       <code>class FirstViewController: UIWorkflowItem
        <string, string>
         , FlowRepresentable, MainStoryboardLoadable
        </string,></code>, but the 
       <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> is not specifically needed, so we excluded it from our example. 
      </details> 
      <h4 id="strong-why-is-code-flowrepresentable-code-not-needed-in-the-declaration-strong" class="heading"><strong>Why is <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> not needed in the declaration?</strong></h4> 
      <details>
        These view controllers adhere to 
       <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> by the combination of 
       <code><a href="Classes/UIWorkflowItem.html">UIWorkflowItem</a></code> and 
       <code><a href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a></code> 
       <ol> 
        <li> The <code><a href="Classes/UIWorkflowItem.html">UIWorkflowItem</a></code> class implements a subset of the requirements for <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code>.</li>. 
        <li> <code><a href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a></code> implements the remaining subset and requires that it is only applied to a <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code>.</li> 
       </ol> 
      </details> 
      <h4 id="strong-why-these-initializers-strong" class="heading"><strong>Why these initializers?</strong></h4> 
      <details> 
       <code><a href="Protocols/StoryboardLoadable.html">StoryboardLoadable</a></code> helps guide XCode to give you compiler errors with the appropriate fix-its to generate 
       <code>required init?(coder: NSCoder, with args: String)</code>. These initializers allow you to load from a storyboard while also having compile-time safety in your properties. You will notice that both view controllers store the argument string on a 
       <code>private let</code> property. 
      </details> 
      <h4 id="strong-what-39-s-this-code-shouldload-code-strong" class="heading"><strong>What’s this <code>shouldLoad()</code>?</strong></h4> 
      <details> 
       <code><a href="Protocols/FlowRepresentable.html#/s:12SwiftCurrent17FlowRepresentableP10shouldLoadSbyF">FlowRepresentable.shouldLoad()</a></code> is part of the 
       <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> protocol. It has default implementations created for your convenience but is still implementable if you want to control when a 
       <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> should load in the workflow. It is called after 
       <code>init</code> but before 
       <code>viewDidLoad()</code>. 
      </details> 
      <h2 id="launching-the-code-workflow-code" class="heading">Launching the <code><a href="Classes/Workflow.html">Workflow</a></code></h2> 
      <p>Next, we create a <code><a href="Classes/Workflow.html">Workflow</a></code> that is initialized with our <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code>s and launch it from a view controller that is already loaded onto the screen (in our case, the ‘ViewController’ class provided by Xcode).</p> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent_UIKit</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="kd">@IBAction</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">launchWorkflow</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">workflow</span> <span class="o">=</span> <span class="kt">Workflow</span><span class="p">(</span><span class="kt">FirstViewController</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="c1">// SwiftCurrent</span>
                            <span class="o">.</span><span class="nf">thenProceed</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="kt">SecondViewController</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="c1">// SwiftCurrent</span>

        <span class="nf">launchInto</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="nv">args</span><span class="p">:</span> <span class="s">"Some Name"</span><span class="p">)</span> <span class="p">{</span> <span class="n">passedArgs</span> <span class="k">in</span> <span class="c1">// SwiftCurrent</span>
            <span class="n">workflow</span><span class="o">.</span><span class="nf">abandon</span><span class="p">()</span>
            <span class="k">guard</span> <span class="k">case</span> <span class="o">.</span><span class="nf">args</span><span class="p">(</span><span class="k">let</span> <span class="nv">emailAddress</span> <span class="k">as</span> <span class="kt">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">passedArgs</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"No email address supplied"</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">emailAddress</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre> 
      <h3 id="strong-what-is-going-on-here-strong" class="heading"><strong>What Is Going on Here?</strong></h3> 
      <h4 id="strong-where-is-the-type-safety-i-heard-about-strong" class="heading"><strong>Where is the type safety I heard about?</strong></h4> 
      <details>
        The 
       <code><a href="Classes/Workflow.html">Workflow</a></code> has compile-time type safety on the input/output types of the supplied 
       <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code>s. This means that you will get a build error if the output of 
       <code>FirstViewController</code> does not match the input type of 
       <code>SecondViewController</code>. 
      </details> 
      <h4 id="strong-what-39-s-going-on-with-this-code-passedargs-code-strong" class="heading"><strong>What’s going on with this <code>passedArgs</code>?</strong></h4> 
      <details>
        The 
       <code>onFinish</code> closure for 
       <code><a href="Extensions/UIViewController.html#/s:So16UIViewControllerC18SwiftCurrent_UIKitE10launchInto_4args15withLaunchStyle8onFinishy0cD08WorkflowCyxG_ypSgAH0jK0CACE16PresentationTypeOyAH03AnyN0C10PassedArgsOcSgtAH17FlowRepresentableRzlF">UIViewController.launchInto(_:args:withLaunchStyle:onFinish:)</a></code> provides the last passed 
       <code><a href="Classes/AnyWorkflow/PassedArgs.html">AnyWorkflow.PassedArgs</a></code> in the workflow. For this workflow, that could be the output of 
       <code>FirstViewController</code> or 
       <code>SecondViewController</code> depending on the email signature typed in 
       <code>FirstViewController</code>. To extract the value, we unwrap the variable within the case of 
       <code>.args()</code> as we expect this workflow to return some argument. 
      </details> 
      <h4 id="strong-why-call-code-abandon-code-strong" class="heading"><strong>Why call <code>abandon()</code>?</strong></h4> 
      <details>
        Calling 
       <code>Workflow.abandon()</code> closes all the views launched as part of the workflow, leaving you back on 
       <code>ViewController</code>. 
      </details> 
      <h2 id="testing" class="heading">Testing</h2> 
      <h3 id="installing-test-dependencies" class="heading">Installing Test Dependencies</h3> 
      <p>For our test example, we are using a library called <a href="https://github.com/nallick/UIUTest">UIUTest</a>. It is optional for testing SwiftCurrent, but in order for the example to be copyable, you will need to add the UIUTest Swift Package to your test target.</p> 
      <h3 id="creating-tests" class="heading">Creating Tests</h3> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">XCTest</span>
<span class="kd">import</span> <span class="kt">UIUTest</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent</span>

<span class="c1">// This assumes your project was called GettingStarted.</span>
<span class="kd">@testable</span> <span class="kd">import</span> <span class="kt">GettingStarted</span>

<span class="kd">class</span> <span class="kt">SecondViewControllerTests</span><span class="p">:</span> <span class="kt">XCTestCase</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">testSecondViewControllerDoesNotLoadWhenInputIsEmpty</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">ref</span> <span class="o">=</span> <span class="kt">AnyFlowRepresentable</span><span class="p">(</span><span class="kt">SecondViewController</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">args</span><span class="p">:</span> <span class="o">.</span><span class="nf">args</span><span class="p">(</span><span class="s">""</span><span class="p">))</span>
        <span class="k">let</span> <span class="nv">testViewController</span> <span class="o">=</span> <span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">underlyingInstance</span> <span class="k">as!</span> <span class="kt">SecondViewController</span><span class="p">)</span>

        <span class="kt">XCTAssertFalse</span><span class="p">(</span><span class="n">testViewController</span><span class="o">.</span><span class="nf">shouldLoad</span><span class="p">(),</span> <span class="s">"SecondViewController should not load"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">testSecondViewControllerLoadsWhenInputIsContainsWWTEmail</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">ref</span> <span class="o">=</span> <span class="kt">AnyFlowRepresentable</span><span class="p">(</span><span class="kt">SecondViewController</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">args</span><span class="p">:</span> <span class="o">.</span><span class="nf">args</span><span class="p">(</span><span class="s">"Awesome.Possum@wwt.com"</span><span class="p">))</span>
        <span class="k">let</span> <span class="nv">testViewController</span> <span class="o">=</span> <span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">underlyingInstance</span> <span class="k">as!</span> <span class="kt">SecondViewController</span><span class="p">)</span>

        <span class="kt">XCTAssert</span><span class="p">(</span><span class="n">testViewController</span><span class="o">.</span><span class="nf">shouldLoad</span><span class="p">(),</span> <span class="s">"SecondViewController should load"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">testProceedPassesThroughInput</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Arrange</span>
        <span class="k">var</span> <span class="nv">proceedInWorkflowCalled</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="k">let</span> <span class="nv">expectedString</span> <span class="o">=</span> <span class="s">"Awesome.Possum@wwt.com"</span>
        <span class="k">let</span> <span class="nv">ref</span> <span class="o">=</span> <span class="kt">AnyFlowRepresentable</span><span class="p">(</span><span class="kt">SecondViewController</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">args</span><span class="p">:</span> <span class="o">.</span><span class="nf">args</span><span class="p">(</span><span class="n">expectedString</span><span class="p">))</span>
        <span class="k">var</span> <span class="nv">testViewController</span> <span class="o">=</span> <span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">underlyingInstance</span> <span class="k">as!</span> <span class="kt">SecondViewController</span><span class="p">)</span>
        <span class="c1">// Mimicking the lifecycle of the view controller</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">testViewController</span><span class="o">.</span><span class="nf">shouldLoad</span><span class="p">()</span>
        <span class="n">testViewController</span><span class="o">.</span><span class="nf">loadForTesting</span><span class="p">()</span> <span class="c1">// UIUTest helper</span>

        <span class="n">testViewController</span><span class="o">.</span><span class="n">proceedInWorkflowStorage</span> <span class="o">=</span> <span class="p">{</span> <span class="n">passedArgs</span> <span class="k">in</span>
            <span class="n">proceedInWorkflowCalled</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">passedArgs</span><span class="o">.</span><span class="nf">extractArgs</span><span class="p">(</span><span class="n">defaultValue</span><span class="p">:</span> <span class="s">"defaultValue used"</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span> <span class="n">expectedString</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="c1">// Act</span>
        <span class="p">(</span><span class="n">testViewController</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="nf">viewWithAccessibilityIdentifier</span><span class="p">(</span><span class="s">"finish"</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">UIButton</span><span class="p">)?</span><span class="o">.</span><span class="nf">simulateTouch</span><span class="p">()</span> <span class="c1">// UIUTest helper</span>

        <span class="c1">// Assert</span>
        <span class="kt">XCTAssert</span><span class="p">(</span><span class="n">proceedInWorkflowCalled</span><span class="p">,</span> <span class="s">"proceedInWorkflow should be called"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre> 
      <p>While this team finds that testing our view controllers with <a href="https://github.com/nallick/UIUTest">UIUTest</a> allows us to decrease the visibility of our properties and provide better coverage, <a href="https://github.com/nallick/UIUTest">UIUTest</a> is not needed for testing SwiftCurrent. If you do not want to take the dependency, you will have to elevate visibility or find a way to invoke the <code>finishPressed</code> method.</p> 
      <h4 id="strong-what-is-going-on-with-code-testsecondviewcontrollerdoesnotloadwheninputisempty-code-strong" class="heading"><strong>What is going on with <code>testSecondViewControllerDoesNotLoadWhenInputIsEmpty</code>?</strong></h4> 
      <details>
        This test is super simple. We create the view controller in a way that will go through the correct init, with expected arguments. Then we call 
       <code>shouldLoad</code> to validate if the provided input gets us the results we want. 
      </details> 
      <h4 id="strong-what-is-going-on-with-code-testproceedpassesthroughinput-code-strong" class="heading"><strong>What is going on with <code>testProceedPassesThroughInput</code>?</strong></h4> 
      <details>
        At a high level, we are loading the view controller for testing (similar to before but now with an added step of triggering lifecycle events). We update the 
       <code>proceedInWorkflow</code> closure so that we can confirm it was called. Finally, we invoke the method that will call proceed. The assert is verifying that the output is the same as the input, as this view controller is passing it through. 
      </details> 
      <h4 id="strong-i-added-uiutest-why-isn-39-t-it-hitting-the-finish-button-strong" class="heading"><strong>I added UIUTest, why isn’t it hitting the finish button?</strong></h4> 
      <details>
        It’s easy to forget to set the accessibility identifier on the button, please check that first. Second, if you don’t call 
       <code>loadForTesting()</code>, your view controller doesn’t make it to the window and the hit testing of 
       <code>simulateTouch()</code> will also fail. Finally, make sure the button is visible and tappable on the simulator you are using. 
      </details> 
      <h2 id="interoperability-with-swiftui" class="heading">Interoperability With SwiftUI</h2> 
      <p>You can use your SwiftUI <code>View</code>s that are <code><a href="Protocols/FlowRepresentable.html">FlowRepresentable</a></code> in your UIKit workflows. Start with your <code>View</code>.</p> 
      <pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>
<span class="kd">import</span> <span class="kt">SwiftCurrent</span>

<span class="kd">struct</span> <span class="kt">SwiftUIView</span><span class="p">:</span> <span class="kt">View</span><span class="p">,</span> <span class="kt">FlowRepresentable</span> <span class="p">{</span> <span class="c1">// SwiftCurrent</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">_workflowPointer</span><span class="p">:</span> <span class="kt">AnyFlowRepresentable</span><span class="p">?</span> <span class="c1">// SwiftCurrent</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="n">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Text</span><span class="p">(</span><span class="s">"FR2"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre> 
      <p>Now in your UIKit workflow, simply use a <code><a href="Classes/HostedWorkflowItem.html">HostedWorkflowItem</a></code>.</p> 
      <pre class="highlight swift"><code><span class="nf">launchInto</span><span class="p">(</span><span class="kt">Workflow</span><span class="p">(</span><span class="kt">HostedWorkflowItem</span><span class="o">&lt;</span><span class="kt">SwiftUIView</span><span class="o">&gt;.</span><span class="k">self</span><span class="p">))</span> <span class="c1">// SwiftCurrent</span>
</code></pre> 
     </div> 
    </section> 
   </article> 
  </div> 
  <section class="footer"> 
   <p>© 2022 <a class="link" href="https://github.com/wwt/SwiftCurrent" target="_blank" rel="external noopener">WWT and Tyler Thompson</a>. All rights reserved. (Last updated: 2022-11-29)</p> 
   <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p> 
  </section>   
 </body>
</html>